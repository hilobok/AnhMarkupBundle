parameters:
    anh_markup.parsable.class: Anh\Bundle\MarkupBundle\EventListener\Parsable
    anh_markup.bbcode_parser.class: Anh\Bundle\MarkupBundle\EventListener\BbcodeParser
    anh_markup.validator.class: Anh\Bundle\MarkupBundle\Validator\MarkupValidator
    anh_markup.parser.class: Anh\Bundle\MarkupBundle\Parser

services:
    anh_markup.parsable:
        class: %anh_markup.parsable.class%
        arguments:
            - @annotation_reader
            - @anh_markup.parser
        tags:
            - { name: doctrine.event_subscriber }

    anh_markup.validator:
        class: %anh_markup.validator.class%
        arguments:
            - @anh_markup.parser
        tags:
            - { name: validator.constraint_validator, alias: anh_markup_validator }

    anh_markup.parser:
        class: %anh_markup.parser.class%
        arguments:
            - @event_dispatcher

    anh_markup.bbcode_parser:
        class: %anh_markup.bbcode_parser.class%
        tags:
            - { name: kernel.event_subscriber }

